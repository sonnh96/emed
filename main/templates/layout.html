<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>
    EMED
  </title>
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no" name="viewport"/>
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}"/>
  <!-- CSS Files -->
  <link href="{{ url_for('static', filename='assets/css/dashboard.min.css') }}" rel="stylesheet"/>
  <link href="{{ url_for('static', filename='assets/demo/demo.css') }}" rel="stylesheet"/>
  <link href="{{ url_for('static', filename='assets/css/custom.css') }}" rel="stylesheet"/>
  <link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet"/>

  <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.7/js/min/perfect-scrollbar.jquery.min.js"></script>
  <script src="{{ url_for('static', filename='js/vue.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/popper.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/a076d05399.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/core/bootstrap-material-design.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/material-dashboard.min.js') }}" type="text/javascript"></script>
  <script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
  <script src="{{ url_for('static', filename='js/fabric.min.js') }}" type="text/javascript"></script>
  <style>
    a {
      text-transform: none !important;
    }

    i {
      color: white !important;
    }

    .ui-menu-item {
      font-size: 14px !important;
      padding: 2px;
    }
  </style>
</head>
<body class="">
<script>
  if (window.screen.width < 1450) {
    $('body').addClass('sidebar-mini');
  }
</script>
<div class="wrapper">
  <div class="sidebar" style="background-color:#fff;padding: 20px">
    <div class="logo">
      <div class="menu-icon">
        <button id="minimizeSidebar" class="btn btn-just-icon btn-white btn-fab btn-round">
          <img src="{{ url_for('static', filename='imgs/group8.png') }}" alt=""/>
        </button>
      </div>
    </div>
    <div class="sidebar-wrapper">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href="/home">
            <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/home.png') }}" alt=""/></i>
            <p>HOME</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" data-toggle="collapse" href="#uploads">
            <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/document.png') }}" alt=""/></i>
            <p>UPLOAD</p>
          </a>
          <div class="collapse" id="uploads">
            <ul class="nav">
              <li class="nav-item ">
                <a class="nav-link" href="{{ url_for('upload') }}">
                  <span class="sidebar-normal">Pill image</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('upload_prescription') }}">
                  <span class="sidebar-normal">Prescription image</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('annotation') }}">
                  <p>Multi-pill image</p>
                </a>
              </li>
            </ul>
          </div>
        </li>
        {% if current_user.admin %}
          <li class="nav-item ">
            <a class="nav-link" data-toggle="collapse" href="#pagesExamples">
              <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/header.png') }}" alt=""/></i>
              <p>ADMIN</p>
            </a>
            <div class="collapse" id="pagesExamples">
              <ul class="nav">
                <li class="nav-item ">
                  <a class="nav-link" href="{{ url_for('user_manager') }}">
                    <span class="sidebar-normal">User management</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('labels_manager') }}">
                    <span class="sidebar-normal">Label management</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('upload_manager') }}">
                    <span class="sidebar-normal">Collected data management</span>
                  </a>
                </li>
              </ul>
            </div>
          </li>
        {% else %}
          <li class="nav-item ">
            <a class="nav-link" href="{{ url_for('user_upload_manager') }}">
              <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/header.png') }}" alt=""/></i>
              <p>Collected data management</p>
            </a>
          </li>
        {% endif %}
        <li class="nav-item ">
          <a class="nav-link" href="{{ url_for('set_manager') }}">
            <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/book.png') }}" alt=""/></i>
            <p>Annotation</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" data-toggle="collapse" disabled="disabled">
            <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/book.png') }}" alt=""/></i>
            <p>MANUAL</p>
          </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link" href="{{ url_for('logout') }}">
            <i class="aminext-icon"><img src="{{ url_for('static', filename='imgs/download.png') }}" alt=""/></i>
            <p>LOGOUT</p>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="main-panel">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
      <div class="container-fluid">
        <div class="navbar-wrapper">
          <h2 class="navbar__title">AIME-OCR認識 / <span>帳票</span></h2>
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
                aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="navbar-toggler-icon icon-bar"></span>
          <span class="navbar-toggler-icon icon-bar"></span>
          <span class="navbar-toggler-icon icon-bar"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end">
          <ul class="navbar-nav">
            <li class="nav-item">
              <span class="nav-item__name">{{ current_user.name }}</span>
            </li>
            <li class="nav-item dropdown">
              <a href="#" class="nav-item__avatar" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="{{ url_for('static', filename="imgs/"+current_user.image_file) }}" alt=""/>
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                <a class="dropdown-item" href="/profile">Profile</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="{{ url_for('logout') }}">Logout</a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    {% block content %}{% endblock %}
    <!--  <a class="btn__aminate btn__upload" href="#">
       <div class="btn__aminate-image">
         <img src="./static/imgs/shap5.png" alt="" class=""/>
       </div>
     </a> -->
    <footer class="footer">
      <div class="container-fluid"></div>
    </footer>
  </div>
</div>

<!-- loading -->
<div class="loader">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200px" height="200px"
       viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
    <g transform="translate(50,50)">
      <circle cx="0" cy="0" r="8.333333333333334" fill="none" stroke="#e15b64" stroke-width="4"
              stroke-dasharray="26.179938779914945 26.179938779914945" transform="rotate(13.1559)">
        <animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s"
                          calcMode="spline" keySplines="0.2 0 0.8 1" begin="0"
                          repeatCount="indefinite"></animateTransform>
      </circle>
      <circle cx="0" cy="0" r="16.666666666666668" fill="none" stroke="#f47e60" stroke-width="4"
              stroke-dasharray="52.35987755982989 52.35987755982989" transform="rotate(84.8526)">
        <animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s"
                          calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.2"
                          repeatCount="indefinite"></animateTransform>
      </circle>
      <circle cx="0" cy="0" r="25" fill="none" stroke="#f8b26a" stroke-width="4"
              stroke-dasharray="78.53981633974483 78.53981633974483" transform="rotate(172.589)">
        <animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s"
                          calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.4"
                          repeatCount="indefinite"></animateTransform>
      </circle>
      <circle cx="0" cy="0" r="33.333333333333336" fill="none" stroke="#abbd81" stroke-width="4"
              stroke-dasharray="104.71975511965978 104.71975511965978" transform="rotate(261.236)">
        <animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s"
                          calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.6"
                          repeatCount="indefinite"></animateTransform>
      </circle>
      <circle cx="0" cy="0" r="41.666666666666664" fill="none" stroke="#849b87" stroke-width="4"
              stroke-dasharray="130.89969389957471 130.89969389957471" transform="rotate(337.468)">
        <animateTransform attributeName="transform" type="rotate" values="0 0 0;360 0 0" times="0;1" dur="1s"
                          calcMode="spline" keySplines="0.2 0 0.8 1" begin="-0.8"
                          repeatCount="indefinite"></animateTransform>
      </circle>
    </g>
  </svg>
</div>

<div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-draggable">
    <div class="modal-content">
      <div class="modal-body">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">×</span>
          <span class="sr-only">Close</span>
        </button>
        <img src="" class="imagepreview" style="width: 100%;">
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="show-svg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-draggable">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">×</span>
          <span class="sr-only">Close</span>
        </button>
      </div>
      <div class="modal-body" style="padding: 10px 5px"></div>
    </div>
  </div>
</div>

<script type="text/javascript">
  jQuery(document).ready(function () {
    $('.modal-draggable').draggable({
      axis: "y",
      scroll: false,
      cancel: 'text'
    });

    var url = window.location.pathname;
    $('li.nav-item a').each(function () {
      let hr = $(this).attr('href');
      if (hr == url) {
        $(this).parent("li.nav-item").addClass('active');
        $(this).parents(".collapse").addClass('show');
      }
    });
  });
</script>
</body>
</html>
